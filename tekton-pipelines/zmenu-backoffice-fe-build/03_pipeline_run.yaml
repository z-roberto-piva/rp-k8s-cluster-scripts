apiVersion: tekton.dev/v1
kind: PipelineRun
metadata:
  name: zmenu-backoffice-fe-build-with-submodules
  namespace: pipelines-hospitality
  labels:
    tekton.dev/pipeline: zmenu-backoffice-fe-build-with-submodules
spec:
  params:
    - name: repo-url
      value: 'https://dev.azure.com/ZMenuNext/Zmenu%20Backoffice/_git/ZMenuNext_FrontEnd'
    - name: revision
      value: Develop
    - name: image-registry
      value: container-registry.zucchetti.com/zucchetti_hospitality/zmenu_next
    - name: image-name
      value: zmenu_next_backoffice_frontend
    - name: tag
      value: latest
    - name: dockerfile
      value: ./Dockerfile
    - name: context
      value: .
    - name: tls-verify
      value: 'true'
  pipelineRef:
    name: zmenu-backoffice-fe-build-with-submodules
  taskRunTemplate:
    serviceAccountName: pipeline
  timeouts:
    pipeline: 2h0m0s
  workspaces:
    - name: source
      persistentVolumeClaim:
        claimName: pvc-hospitality-pipelines
    - name: GitCredentials
      secret:
        secretName: zmenu-next-devops-creds
